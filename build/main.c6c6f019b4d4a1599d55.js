/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./public/actions/userActions.js":
/*!***************************************!*\
  !*** ./public/actions/userActions.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   actionAvatarUpload: () => (/* binding */ actionAvatarUpload),\n/* harmony export */   actionDeleteEmail: () => (/* binding */ actionDeleteEmail),\n/* harmony export */   actionGetEmail: () => (/* binding */ actionGetEmail),\n/* harmony export */   actionGetIncoming: () => (/* binding */ actionGetIncoming),\n/* harmony export */   actionGetSent: () => (/* binding */ actionGetSent),\n/* harmony export */   actionGetUser: () => (/* binding */ actionGetUser),\n/* harmony export */   actionLogin: () => (/* binding */ actionLogin),\n/* harmony export */   actionLogout: () => (/* binding */ actionLogout),\n/* harmony export */   actionRedirect: () => (/* binding */ actionRedirect),\n/* harmony export */   actionRedirectToLetter: () => (/* binding */ actionRedirectToLetter),\n/* harmony export */   actionSend: () => (/* binding */ actionSend),\n/* harmony export */   actionSignup: () => (/* binding */ actionSignup),\n/* harmony export */   actionStart: () => (/* binding */ actionStart),\n/* harmony export */   actionUpdateEmail: () => (/* binding */ actionUpdateEmail),\n/* harmony export */   actionUpdateUser: () => (/* binding */ actionUpdateUser)\n/* harmony export */ });\nconst actionStart = () => ({\n    type: 'start',\n    value: {},\n})\n\nconst actionLogin = (value) => ({\n    type: 'login',\n    value: value,\n})\n\nconst actionSignup = (value) => ({\n    type: 'signup',\n    value: value,\n})\n\nconst actionRedirect = (path, pushState, data=undefined) => ({\n    type: 'open', \n    value: {path: path, pushState: pushState, data: data},\n})\n\nconst actionRedirectToLetter = (id, pushState) => ({\n    type: 'openLetter', \n    value: {id: id, pushState: pushState},\n})\n\nconst actionGetUser = () => ({\n    type: 'getUser',\n    value: {},\n})\n\nconst actionAvatarUpload = (file) => ({\n    type: 'avatarUpload',\n    value: {file: file},\n})\n\nconst actionUpdateUser = (value) => ({\n    type: 'updateUser',\n    value: value,\n})\n\nconst actionGetIncoming = () => ({\n    type: 'getIncoming',\n    value: {},\n})\n\nconst actionGetSent = () => ({\n    type: 'getSent',\n    value: {},\n})\n\nconst actionGetEmail = (id) => ({\n    type: 'getEmail',\n    value: id,\n})\n\nconst actionSend = (value) => ({\n    type: 'send',\n    value: value,\n})\n\nconst actionUpdateEmail = (id, value) => ({\n    type: 'updateEmail',\n    value: {id: id, value: value},\n})\n\nconst actionDeleteEmail = (id) => ({\n    type: 'deleteEmail',\n    value: {id: id},\n})\n\nconst actionLogout = () => ({\n    type: 'logout',\n    value: {},\n})\n\n//# sourceURL=webpack://2024_1_refugio/./public/actions/userActions.js?");

/***/ }),

/***/ "./public/components/birthday-select/birthday-select.js":
/*!**************************************************************!*\
  !*** ./public/components/birthday-select/birthday-select.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Birthday_Select)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass Birthday_Select {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['birthday-select.hbs'];\n        const elements = {\n            birthday_day: this.#config?.user?.birthday.substr(8, 2) || 1,\n            birthday_month: this.parseMonths(Number(this.#config?.user?.birthday.substr(5, 2) || 1)),\n            birthday_year: this.#config?.user?.birthday.substr(0, 4) || 2024,\n        }\n        return template(elements);\n    }\n\n    parseMonths(number) {\n        switch (number) {\n            case (1):\n                return 'Январь';\n            case (2):\n                return 'Февраль';\n            case (3):\n                return 'Март';\n            case (4):\n                return 'Апрель';\n            case (5):\n                return 'Май';\n            case (6):\n                return 'Июнь';\n            case (7):\n                return 'Июль';\n            case (8):\n                return 'Август';\n            case (9):\n                return 'Сентябрь';\n            case (10):\n                return 'Октябрь';\n            case (11):\n                return 'Ноябрь';\n            case (12):\n                return 'Декабрь';\n        }\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/birthday-select/birthday-select.js?");

/***/ }),

/***/ "./public/components/gender-select/gender-select.js":
/*!**********************************************************!*\
  !*** ./public/components/gender-select/gender-select.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Gender_Select)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass Gender_Select {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['gender-select.hbs'];\n        const elements = {\n            gender: this.#config.user?.gender === 'Female' ? false : true,\n        }\n        return template(elements);\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/gender-select/gender-select.js?");

/***/ }),

/***/ "./public/components/header/header.js":
/*!********************************************!*\
  !*** ./public/components/header/header.js ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Header)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass Header {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config=config;\n        this.#parent=parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['header.hbs'];\n        const header = {\n            avatar: this.#config.avatar,\n            userLetter: this.#config.username.charAt(0),\n        };\n        return template(header);\n    }\n}\n\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/header/header.js?");

/***/ }),

/***/ "./public/components/list-letter/list-letter.js":
/*!******************************************************!*\
  !*** ./public/components/list-letter/list-letter.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ List_letter)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass List_letter {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config=config;\n        this.#parent=parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['list-letter.hbs'];\n        const letter = {\n            status: !this.#config.status,\n            avatar: this.#config.avatar,\n            from: this.#config.from,\n            subject: this.#config.subject,\n            text: this.#config.text,\n            date: this.#config.date,\n            id: this.#config.id,\n            userLetter: this.#config.from.charAt(0),\n        };\n        if (this.#config.sent) {\n            letter.from = this.#config.to;\n            letter.userLetter = this.#config.to.charAt(0);\n        }\n        return template(letter);\n    }\n\n\n    addListeners() {\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/list-letter/list-letter.js?");

/***/ }),

/***/ "./public/components/list-letters/list-letters.js":
/*!********************************************************!*\
  !*** ./public/components/list-letters/list-letters.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Main)\n/* harmony export */ });\n/* harmony import */ var _components_list_letter_list_letter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/list-letter/list-letter.js */ \"./public/components/list-letter/list-letter.js\");\n\n/**\n * Класс обертки компонента\n * @class\n */\nclass Main {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Функция, создающая массив компонетов для рендера\n     * @param {Array<object>} letters письменное описание писем\n     * @returns {Array} массив объектов класса писем\n     */\n    #renderConfig(letters) {\n        const result = [];\n        letters.forEach((letter) => {\n            result.push(new _components_list_letter_list_letter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, {\n                sent: this.#config.sent,\n                status: letter.readStatus,\n                avatar: letter.photoId,\n                from: letter.senderEmail,\n                to: letter.recipientEmail,\n                subject: letter.topic,\n                text: letter.text,\n                date: letter.dateOfDispatch,\n                id: letter.id,\n            }).render(),);\n        });\n        return result;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['list-letters.hbs'];\n        const list_letters = this.#renderConfig(this.#config?.list_letters ? this.#config.list_letters : []);\n        return template({ list_letters });\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/list-letters/list-letters.js?");

/***/ }),

/***/ "./public/components/login-box/login-box.js":
/*!**************************************************!*\
  !*** ./public/components/login-box/login-box.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Login_box)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass Login_box {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config=config;\n        this.#parent=parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['login-box.hbs'];\n\n        const login_box = {\n        };\n        return template(login_box);\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/login-box/login-box.js?");

/***/ }),

/***/ "./public/components/menu/menu.js":
/*!****************************************!*\
  !*** ./public/components/menu/menu.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Menu)\n/* harmony export */ });\n/**\n * Класс обертки компонента\n * @class\n */\nclass Menu {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config=config;\n        this.#parent=parent;\n    }\n\n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['menu.hbs'];\n\n        return template();\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/menu/menu.js?");

/***/ }),

/***/ "./public/components/signup-box/signup-box.js":
/*!****************************************************!*\
  !*** ./public/components/signup-box/signup-box.js ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Signup_box)\n/* harmony export */ });\n/* harmony import */ var _birthday_select_birthday_select_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../birthday-select/birthday-select.js */ \"./public/components/birthday-select/birthday-select.js\");\n/* harmony import */ var _gender_select_gender_select_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../gender-select/gender-select.js */ \"./public/components/gender-select/gender-select.js\");\n\n\n\n/**\n * Класс обертки компонента\n * @class\n */\nclass Signup_box {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent \n     * @param {object} config \n     */\n    constructor(parent, config) {\n        this.#config=config;\n        this.#parent=parent;\n    }\n\n \n    /**\n     * рендерит компонент в DOM\n     */\n    render() {\n        const template = Handlebars.templates['signup-box.hbs'];\n\n        const signup_box = {\n            birthday_select: new _birthday_select_birthday_select_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, this.#config).render() ,\n            gender_select: new _gender_select_gender_select_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, this.#config).render() ,\n\n        };\n        return template(signup_box);\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/components/signup-box/signup-box.js?");

/***/ }),

/***/ "./public/config/handlers.js":
/*!***********************************!*\
  !*** ./public/config/handlers.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../stores/emailStore.js */ \"./public/stores/emailStore.js\");\n/* harmony import */ var _modules_router_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/router.js */ \"./public/modules/router.js\");\n\n\n\n\nconst handlers = [\n    {type: 'verifyAuth', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].verifyAuth.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'navigate', method: _modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].navigate.bind(_modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])},\n    {type: 'open', method: _modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].open.bind(_modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])},\n    {type: 'openLetter', method: _modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].openLetter.bind(_modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])},\n    {type: 'login', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].login.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'signup', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].signup.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'start', method: _modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].start.bind(_modules_router_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])},\n    {type: 'getUser', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUser.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'updateUser', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].updateUser.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'logout', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].logout.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n    {type: 'getIncoming', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getIncoming.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n    {type: 'getSent', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getSent.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n    {type: 'getEmail', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getEmail.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n    {type: 'send', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].send.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n\n    {type: 'updateEmail', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].updateEmail.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n    {type: 'deleteEmail', method: _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].deleteEmail.bind(_stores_emailStore_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])},\n\n    {type: 'avatarUpload', method: _stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].avatarUpload.bind(_stores_userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])},\n\n];\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handlers);\n\n//# sourceURL=webpack://2024_1_refugio/./public/config/handlers.js?");

/***/ }),

/***/ "./public/index.js":
/*!*************************!*\
  !*** ./public/index.js ***!
  \*************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n// import LetterView from './views/letter.js';\n// import ProfileView from './views/profile.js';\n// import WriteLetterView from './views/write-letter.js';\n// import MainView from './views/main.js';\n\n_modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_1__.actionStart)());\n\n// const view = MainView;\n// console.log(view);\n// view.renderPage();\n//const view = new ProfileView();\n//view.renderPage();\n\n// let isAuth;\n// ajax(\n//     'GET', 'http://89.208.223.140:8080/api/v1/verify-auth', null, 'application/json', (status, data) => (isAuth = status)\n// );\n// console.log(isAuth);\n// if (!isAuth) {\n//     const login = new LoginView();\n//     login.renderPage();\n// } else {\n//     const main = new MainView();\n//     main.renderPage();\n// };\n\n//# sourceURL=webpack://2024_1_refugio/./public/index.js?");

/***/ }),

/***/ "./public/modules/ajax.js":
/*!********************************!*\
  !*** ./public/modules/ajax.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ajax)\n/* harmony export */ });\n/**\n * sends request\n * @param {string} method http method ('GET','POST', etc.)\n * @param {string} url url for our request\n * @param {string} body body for our request\n * @param {string} contentType contentType header\n * @returns {Promise} response for request\n */\nasync function ajax(method, url, body = null, contentType, csrf) {\n    let request;\n    if (method !== 'HEAD' && method !== 'GET') {\n        if (contentType) {\n            request = new Request(url, {\n                method: method,\n                body: body,\n                headers: {\n                    'Content-type': contentType,\n                    'X-CSRF-Token': csrf,\n                },\n                credentials: 'include',\n            });\n        } else {\n            request = new Request(url, {\n                method: method,\n                body: body,\n                headers: {\n                    'X-CSRF-Token': csrf,\n                },\n                credentials: 'include',\n            });\n        }\n    }\n    else {\n        if (contentType) {\n            request = new Request(url, {\n                method: method,\n                headers: {\n                    'Content-type': contentType,\n                    'X-CSRF-Token': csrf,\n                },\n                credentials: 'include',\n            });\n        } else {\n            request = new Request(url, {\n                method: method,\n                headers: {\n                    'X-CSRF-Token': csrf,\n                },\n                credentials: 'include',\n            });\n        }\n    }\n    return fetch(request);\n}\n\n\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/modules/ajax.js?");

/***/ }),

/***/ "./public/modules/dispathcher.js":
/*!***************************************!*\
  !*** ./public/modules/dispathcher.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _config_handlers_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/handlers.js */ \"./public/config/handlers.js\");\n\n\nclass Dispatcher {\n    #handlers;\n\n    constructor() {\n        this.#handlers = new Map();\n        _config_handlers_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].forEach((handler) => {\n            this.#handlers.set(handler.type, handler.method);\n        })\n    }\n\n    async do(action) {\n        const func = this.#handlers.get(action.type);\n        if (func) {\n            if (Object.prototype.hasOwnProperty.call(action, 'value')) {\n                await func(action.value);\n            } \n            else {\n                await func();\n            }\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Dispatcher());\n\n//# sourceURL=webpack://2024_1_refugio/./public/modules/dispathcher.js?");

/***/ }),

/***/ "./public/modules/mediator.js":
/*!************************************!*\
  !*** ./public/modules/mediator.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Mediator {\n    #listeners\n\n    constructor() {\n        this.#listeners = {};\n    }\n\n    on(event, callback) {\n        this.#listeners[event] = this.#listeners[event] || [];\n        this.#listeners[event].push(callback);\n    }\n\n    off(event, callback) {\n        if (event in this.#listeners) {\n            if (this.#listeners[event].includes(callback)) {\n                this.#listeners[event].splice(this.#listeners[event].indexOf(callback), 1);\n            }\n        }\n    }\n\n    emit(event, data) {\n        this.#listeners[event].forEach((listener) => listener(data));\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Mediator());\n\n//# sourceURL=webpack://2024_1_refugio/./public/modules/mediator.js?");

/***/ }),

/***/ "./public/modules/router.js":
/*!**********************************!*\
  !*** ./public/modules/router.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _views_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../views/login.js */ \"./public/views/login.js\");\n/* harmony import */ var _views_main_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../views/main.js */ \"./public/views/main.js\");\n/* harmony import */ var _views_signup_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../views/signup.js */ \"./public/views/signup.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _views_profile_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../views/profile.js */ \"./public/views/profile.js\");\n/* harmony import */ var _views_write_letter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../views/write-letter.js */ \"./public/views/write-letter.js\");\n/* harmony import */ var _views_letter_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../views/letter.js */ \"./public/views/letter.js\");\n/* harmony import */ var _views_sent_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../views/sent.js */ \"./public/views/sent.js\");\n\n\n\n\n\n\n\n\n\nclass Router {\n    #views\n    #authViews\n    #currentView\n    #redirectView\n\n    constructor() {\n        this.#views = new Map();\n        this.#authViews = new Map();\n\n        this.#views.set('/login', _views_login_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n        this.#views.set('/signup', _views_signup_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n        this.#authViews.set('/main', _views_main_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n        this.#authViews.set('/profile', _views_profile_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n        this.#authViews.set('/write_letter', _views_write_letter_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n        this.#authViews.set('/sent', _views_sent_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n    }\n\n    navigate({ path, state = '', pushState }) {\n        if (pushState) {\n            window.history.pushState(state, '', `${path}`)\n        } else {\n            window.history.replaceState(state, '', `${path}`)\n        }\n    }\n\n    async redirect(href) {\n        let isAuth = await _stores_userStore_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].verifyAuth();\n        if (!isAuth) {\n            if (href === '/signup') {\n                return href;\n            } else {\n                this.redirectView = href;\n                return '/login';\n            }\n        }\n        if (href === '' || href === '/' || href === '/login' || href === '/signup') {\n            return '/main';\n        } else {\n            if (this.#redirectView) {\n                const redirectedView = this.#redirectView;\n                this.#redirectView = undefined;\n                return redirectedView;\n            } else {\n                return href;\n            }\n        }\n    }\n\n    open({ path, state = '', pushState, data }) {\n        if (this.#currentView) {\n            this.#currentView.clear();\n        }\n        this.#currentView = this.#views.get(path) || this.#authViews.get(path);\n        this.navigate({ path, state, pushState });\n        if (data) {\n            this.#currentView.renderPage(data);\n        } else {\n            this.#currentView.renderPage();\n        }\n    }\n\n    openLetter({ id, pushState }) {\n        if (this.#currentView) {\n            this.#currentView.clear();\n        }\n        this.#currentView = new _views_letter_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](id);\n        this.navigate({ path: `/letter?id=${id}`, state: '', pushState });\n        this.#currentView.renderPage();\n    }\n\n    async start() {\n        window.addEventListener('popstate', async () => {\n            let path = await this.redirect(window.location.pathname + window.location.search);\n            if (path.indexOf('/letter?') !== -1) {\n                this.openLetter({ id: path.replace('/letter?id=', ''), pushState: false });\n            } else {\n                this.open({ path: path, pushState: false });\n            }\n        });\n        let path = await this.redirect(window.location.pathname + window.location.search);\n        if (path.indexOf('/letter?') !== -1) {\n            this.openLetter({ id: path.replace('/letter?id=', ''), pushState: false });\n        } else {\n            this.open({ path: path, pushState: false });\n        }\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new Router());\n\n//# sourceURL=webpack://2024_1_refugio/./public/modules/router.js?");

/***/ }),

/***/ "./public/pages/letter/letter.js":
/*!***************************************!*\
  !*** ./public/pages/letter/letter.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Letter)\n/* harmony export */ });\n/* harmony import */ var _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/menu/menu.js */ \"./public/components/menu/menu.js\");\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\n\n\nconst MAX_INPUT_LENGTH = 64;\n\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Letter {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['letter.hbs'];\n        const config = this.#config;\n        const elements = {\n            status: this.#config.email.readStatus,\n            avatar: this.#config.email.photoId,\n            from: this.#config.email.senderEmail,\n            subject: this.#config.email.topic,\n            text: this.#config.email.text,\n            date: this.#config.email.dateOfDispatch,\n            id: this.#config.email.id,\n            replyId: this.#config.email.replyToEmailId,\n            replyTopic: this.#config.replyEmail?.topic,\n            userLetter: this.#config.email.senderEmail.charAt(0),\n            header: new _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, config.header).render(),\n            menu: new _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, config.menu).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    handleDropdowns(e) {\n        const target = e.target;\n\n        const elements = {\n            profile: {\n                button: document.querySelector('.header__avatar'),\n                dropdown: document.querySelector('.header__dropdown'),\n            }\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.add('show');\n                }\n            }\n        })\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    /**\n     * Функция авторизации\n     */\n    handleExit = async (e) => {\n        e.preventDefault();\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionLogout)());\n    };\n\n    handleProfile = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/profile', true));\n    };\n\n    handleMain = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/main', true));\n    };\n\n    handleWriteLetter = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/write_letter', true));\n    };\n\n    handleResend = (e) => {\n        e.preventDefault();\n        const topic = this.#parent\n            .querySelector('.letter__subject').textContent\n        const sender = this.#parent\n            .querySelector('.letter__info__from').textContent\n        const date = this.#parent\n            .querySelector('.letter__info__date').textContent\n        const text = this.#parent\n            .querySelector('.letter__text').textContent\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/write_letter', true, { topic: topic, sender: sender, date: date, text: text }));\n    };\n\n    handleReply = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/write_letter', true, { replyId: this.#config.email.id, replySender: this.#config.email.senderEmail }));\n    };\n\n    handleSent = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/sent', true));\n    };\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .addEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .addEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .addEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#resend')\n            .addEventListener('click', this.handleResend);\n        this.#parent\n            .querySelector('#reply')\n            .addEventListener('click', this.handleReply);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .addEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .addEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.letter__header__back-button')\n            .addEventListener('click', this.handleMain);\n\n        this.#parent\n            .querySelector('#sent-folder')\n            .addEventListener('click', this.handleSent);\n        this.#parent.addEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].on('logout', this.handleExitResponse);\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .removeEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .removeEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .removeEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#resend')\n            .removeEventListener('click', this.handleResend);\n        this.#parent\n            .querySelector('#reply')\n            .removeEventListener('click', this.handleReply);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .removeEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .removeEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.letter__header__back-button')\n            .removeEventListener('click', this.handleMain);\n\n        this.#parent\n            .querySelector('#sent-folder')\n            .removeEventListener('click', this.handleSent);\n        this.#parent.removeEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].off('logout', this.handleExitResponse);\n    }\n\n    handleExitResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionRedirect)('/login', true));\n                break;\n            default:\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/letter/letter.js?");

/***/ }),

/***/ "./public/pages/login/login.js":
/*!*************************************!*\
  !*** ./public/pages/login/login.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Login)\n/* harmony export */ });\n/* harmony import */ var _components_login_box_login_box_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/login-box/login-box.js */ \"./public/components/login-box/login-box.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\nconst MAX_INPUT_LENGTH = 64;\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Login {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['login.hbs'];\n        const elements = {\n            login_box: new _components_login_box_login_box_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, this.#config).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    /**\n     * Функция авторизации\n     */\n    handleLogin = async (e) => {\n        e.preventDefault();\n\n        const emailInput = document.querySelector('.login-box__email-input-wrapper__email-input');\n        const passwordInput = document.querySelector('.login-box__password-input-wrapper__input');\n\n        const email = emailInput.value.trim();\n        const password = passwordInput.value;\n\n        const emailDomainInput = this.#parent\n            .querySelector('.login-box__email-input-wrapper__email-domain-input');\n        let oldError = this.#parent\n            .querySelector('#email-error');\n        oldError.classList.remove('show');\n        oldError = emailInput;\n        oldError.classList.remove('input-background-error');\n        oldError = emailDomainInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#password-error');\n        oldError.classList.remove('show');\n        oldError = passwordInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#login-error');\n        oldError.classList.remove('show');\n\n        let isValidForm = true;\n        const emailError = this.#parent\n            .querySelector('#email-error');\n        if (!email) {\n            emailError.textContent = 'Введите имя ящика';\n            emailError.classList.add('show');\n            emailInput.classList.add('input-background-error');\n            emailDomainInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (email.length > MAX_INPUT_LENGTH) {\n                emailError.textContent = 'Слишком длинное имя ящика';\n                emailError.classList.add('show');\n                emailInput.classList.add('input-background-error');\n                emailDomainInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                const emailLoginRegex = /^[a-zA-Z0-9._%+-]+$/;\n                if (!emailLoginRegex.test(email)) {\n                    emailError.textContent = 'Некорректное имя ящика';\n                    emailError.classList.add('show');\n                    emailInput.classList.add('input-background-error');\n                    emailDomainInput.classList.add('input-background-error');\n                    isValidForm = false;\n                }\n            }\n        }\n\n        const passwordError = this.#parent\n            .querySelector('#password-error');\n        if (!password) {\n            passwordError.textContent = 'Введите пароль';\n            passwordError.classList.add('show');\n            passwordInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (password.length > 4 * MAX_INPUT_LENGTH) {\n                passwordError.textContent = 'Слишком длинный пароль';\n                passwordError.classList.add('show');\n                passwordInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        if (!isValidForm) {\n            return;\n        }\n\n\n        // create JSON object with user data\n        const newUser = {\n            login: email + \"@mailhub.su\",\n            password: password,\n        };\n\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionLogin)(newUser));\n    };\n\n    handleEnterKey = async (e) => {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            this.handleLogin(e);\n        }\n    }\n\n    /**\n     * Функция рендера страницы регистрации\n     */\n    renderSignup = async (e) => {\n\n        e.preventDefault();\n\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/signup', true));\n    };\n\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelector('.login-box__login-button-wrapper__button')\n            .addEventListener('click', this.handleLogin);\n        document\n            .addEventListener('keydown', this.handleEnterKey);\n        this.#parent\n            .querySelector('.login-box__authorization-method-switch__method_passive')\n            .addEventListener('click', this.renderSignup);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].on('login', this.handleLoginResponse);\n    }\n\n    /**\n     * Удаляет листенеры\n    */\n    removeListeners() {\n        this.#parent\n            .querySelector('.login-box__login-button-wrapper__button')\n            .removeEventListener('click', this.handleLogin);\n        document\n            .removeEventListener('keydown', this.handleEnterKey);\n        this.#parent\n            .querySelector('.login-box__authorization-method-switch__method_passive')\n            .removeEventListener('click', this.renderSignup);\n\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].off('login', this.handleLoginResponse);\n    }\n\n\n    handleLoginResponse = (status) => {\n        let errorSign = this.#parent\n            .querySelector('#login-error');\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/main', true));\n                break;\n            case 401:\n                errorSign.textContent = 'Такого пользователя не существует или неверно указан пароль';\n                errorSign.classList.add('show');\n                break;\n            default:\n                errorSign.textContent = 'Ошибка на нашей стороне, уже исправляем';\n                errorSign.classList.add('show');\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/login/login.js?");

/***/ }),

/***/ "./public/pages/main/main.js":
/*!***********************************!*\
  !*** ./public/pages/main/main.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Main)\n/* harmony export */ });\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/menu/menu.js */ \"./public/components/menu/menu.js\");\n/* harmony import */ var _components_list_letters_list_letters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/list-letters/list-letters.js */ \"./public/components/list-letters/list-letters.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\n\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Main {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['main.hbs'];\n        this.#config.content.sent = false;\n        const elements = {\n            header: new _components_header_header_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, this.#config.header).render(),\n            menu: new _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, this.#config.menu).render(),\n            list_letters: new _components_list_letters_list_letters_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](null, this.#config.content).render(),\n        };\n        const hasLetters = this\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    selectedListLetters = []\n\n    handleDropdowns(e) {\n        const target = e.target;\n\n        const elements = {\n            profile: {\n                button: document.querySelector('.header__avatar'),\n                dropdown: document.querySelector('.header__dropdown'),\n            }\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.add('show');\n                }\n            }\n        })\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    /**\n     * Функция выхода из ящика\n     */\n    handleExit = async (e) => {\n        e.preventDefault();\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionLogout)());\n    };\n\n    handleProfile = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/profile', true));\n    };\n\n    handleWriteLetter = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/write_letter', true));\n    };\n\n    handleLetter = async (e, id) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirectToLetter)(id, true));\n    };\n\n    handleSent = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/sent', true));\n    };\n\n    handleHeader() {\n        const unselectedButtons = {\n            selectAll: document.querySelector('#select-all'),\n            markAllAsRead: document.querySelector('#mark-all-as-read'),\n        };\n        const selectedButtons = {\n            deselect: document.querySelector('#deselect'),\n            delete: document.querySelector('#delete'),\n            moveTo: document.querySelector('#move-to'),\n            spam: document.querySelector('#spam'),\n            markAsRead: document.querySelector('#mark-as-read'),\n            markAsUnread: document.querySelector('#mark-as-unread'),\n        }\n\n        if (this.selectedListLetters.length > 0) {\n            Object.values(selectedButtons).forEach(button => {\n                button.classList.add('appear');\n            })\n            Object.values(unselectedButtons).forEach(button => {\n                button.classList.remove('appear');\n            })\n            document.querySelector('#selected-letters-counter').textContent = this.selectedListLetters.length;\n        } else {\n            Object.values(selectedButtons).forEach(button => {\n                button.classList.remove('appear');\n            })\n            Object.values(unselectedButtons).forEach(button => {\n                button.classList.add('appear');\n            })\n        }\n    }\n\n    handleCheckbox = (e, id) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const letter = document.querySelector(`[data-id=\"${id}\"]`);\n        const avatar = letter.querySelector('.list-letter__avatar-wrapper__avatar')\n        const oldIcon = letter.querySelector('.list-letter__avatar-wrapper__checkbox')\n        if (letter.classList.contains('list-letter_selected')) {\n            letter.classList.remove('list-letter_selected');\n            const icon = letter.querySelectorAll('.list-letter__avatar-wrapper__checkbox_centered')[1];\n            icon.parentNode.removeChild(icon);\n            avatar.classList.remove('remove');\n            oldIcon.classList.remove('remove');\n            this.selectedListLetters.pop(letter);\n        } else {\n            letter.classList.add('list-letter_selected');\n            const icon = document.createElement('img');\n            icon.src = '../../static/icons/done.svg';\n            icon.alt = '';\n            icon.classList.add('list-letter__avatar-wrapper__checkbox_centered');\n            avatar.parentNode.appendChild(icon);\n            avatar.classList.add('remove');\n            oldIcon.classList.add('remove');\n            this.selectedListLetters.push(letter);\n        }\n        this.handleHeader();\n    }\n\n    handleStatus = async (e, id) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const letter = document.querySelector(`[data-id=\"${id}\"]`);\n        const statusChild = letter.querySelector('.list-letter__status');\n        const statusImg = letter.querySelector('.list-letter__status-offer');\n        const img = document.createElement('img');\n        img.alt = '';\n        if (statusImg === null) {\n            img.src = '../../static/icons/read-on-offer__256.svg';\n            img.classList.add('list-letter__status-offer');\n        }\n        else {\n            img.src = '../../static/icons/read-on__256.svg';\n        }\n        statusChild.parentNode.replaceChild(img, statusChild);\n\n        const letters = this.#config.content.list_letters;\n        const value = letters.find(item => String(item.id) === id);\n        value.readStatus = !value.readStatus;\n        value.dateOfDispatch = undefined;\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionUpdateEmail)(id, value));\n    }\n\n    handleSelectAll = (e) => {\n        e.preventDefault();\n\n        document.querySelectorAll('.list-letter').forEach(letter => {\n            const avatar = letter.querySelector('.list-letter__avatar-wrapper__avatar')\n            letter.classList.add('list-letter_selected');\n            const icon = document.createElement('img');\n            icon.src = '../../static/icons/done.svg';\n            icon.alt = '';\n            icon.classList.add('list-letter__avatar-wrapper__checkbox_centered');\n            avatar.parentNode.appendChild(icon);\n            avatar.classList.add('remove');\n            this.selectedListLetters.push(letter);\n        });\n        this.handleHeader();\n    }\n\n    handleDeselect = (e) => {\n        e.preventDefault();\n\n        document.querySelectorAll('.list-letter').forEach(letter => {\n            if (letter.classList.contains('list-letter_selected')) {\n                console.log(letter);\n                const avatar = letter.querySelector('.list-letter__avatar-wrapper__avatar')\n                letter.classList.remove('list-letter_selected');\n                const icon = letter.querySelectorAll('.list-letter__avatar-wrapper__checkbox_centered')[1];\n                icon.parentNode.removeChild(icon);\n                avatar.classList.remove('remove');\n                this.selectedListLetters.pop(letter);\n            }\n        });\n        this.handleHeader();\n    }\n\n    handleMarkAllAsRead = (e) => {\n        e.preventDefault();\n\n        const letters = this.#config.content.list_letters;\n        if (letters.length === 0) {\n            return;\n        }\n        letters.forEach(item => {\n            if (item.readStatus === false) {\n                const letter = document.querySelector(`[data-id=\"${item.id}\"]`);\n                const statusChild = letter.querySelector('.list-letter__status');\n                const img = document.createElement('img');\n                img.alt = '';\n                img.src = '../../static/icons/read-on-offer__256.svg';\n                img.classList.add('list-letter__status-offer');\n                img.classList.add('list-letter__status');\n                statusChild.parentNode.replaceChild(img, statusChild);\n\n\n                item.readStatus = true;\n                item.dateOfDispatch = undefined;\n\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionUpdateEmail)(item.id, item));\n            }\n        })\n\n    }\n\n    handleDelete = (e) => {\n        e.preventDefault();\n        this.selectedListLetters.forEach(item => {\n            const letter = document.querySelectorAll(`[data-id=\"${item.dataset.id}\"]`);\n            letter[0].remove();\n            _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionDeleteEmail)(item.dataset.id));\n            this.selectedListLetters = this.selectedListLetters.filter(el => el !== item);\n        });\n        this.handleDeselect(e);\n        this.handleHeader();\n    }\n\n    handleMarkAsRead = (e) => {\n        e.preventDefault();\n        const selectedIds = this.selectedListLetters.map(letter => letter.dataset.id);\n        const letters = this.#config.content.list_letters;\n        letters.forEach(item => {\n\n            if (item.readStatus === false && selectedIds.includes(String(item.id))) {\n\n                const letter = document.querySelector(`[data-id=\"${item.id}\"]`);\n                const statusChild = letter.querySelector('.list-letter__status');\n                const img = document.createElement('img');\n                img.alt = '';\n                img.src = '../../static/icons/read-on-offer__256.svg';\n                img.classList.add('list-letter__status-offer');\n                img.classList.add('list-letter__status');\n                statusChild.parentNode.replaceChild(img, statusChild);\n\n\n                item.readStatus = true\n                item.dateOfDispatch = undefined;\n\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionUpdateEmail)(item.id, item));\n            }\n        })\n        this.handleDeselect(e);\n    }\n\n    handleMarkAsUnread = (e) => {\n        e.preventDefault();\n        const selectedIds = this.selectedListLetters.map(letter => letter.dataset.id);\n\n        const letters = this.#config.content.list_letters;\n        letters.forEach(item => {\n            if (item.readStatus === true && selectedIds.includes(String(item.id))) {\n\n                const letter = document.querySelector(`[data-id=\"${item.id}\"]`);\n                console.log(letter);\n\n                const statusChild = letter.querySelector('.list-letter__status');\n                const img = document.createElement('img');\n                img.alt = '';\n                img.src = '../../static/icons/read-on__256.svg';\n                img.classList.add('list-letter__status');\n                statusChild.parentNode.replaceChild(img, statusChild);\n\n                item.readStatus = false;\n                item.dateOfDispatch = undefined;\n                console.log(letter);\n\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionUpdateEmail)(item.id, item));\n            }\n        })\n        this.handleDeselect(e);\n    }\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.querySelector('.list-letter__avatar-wrapper').addEventListener('click', (e) => this.handleCheckbox(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.querySelector('.list-letter__status').addEventListener('click', (e) => this.handleStatus(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('#select-all')\n            .addEventListener('click', this.handleSelectAll);\n        this.#parent\n            .querySelector('#deselect')\n            .addEventListener('click', this.handleDeselect);\n        this.#parent\n            .querySelector('#mark-all-as-read')\n            .addEventListener('click', this.handleMarkAllAsRead);\n        this.#parent\n            .querySelector('#delete')\n            .addEventListener('click', this.handleDelete);\n        this.#parent\n            .querySelector('#mark-as-read')\n            .addEventListener('click', this.handleMarkAsRead);\n        this.#parent\n            .querySelector('#mark-as-unread')\n            .addEventListener('click', this.handleMarkAsUnread);\n\n\n\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.addEventListener('click', (e) => this.handleLetter(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .addEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .addEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .addEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#sent-folder')\n            .addEventListener('click', this.handleSent);\n        this.#parent.addEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].on('logout', this.handleExitResponse)\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.querySelector('.list-letter__avatar-wrapper').removeEventListener('click', (e) => this.handleCheckbox(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.querySelector('.list-letter__status').removeEventListener('click', (e) => this.handleStatus(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('#select-all')\n            .removeEventListener('click', this.handleSelectAll);\n        this.#parent\n            .querySelector('#deselect')\n            .removeEventListener('click', this.handleDeselect);\n        this.#parent\n            .querySelector('#mark-all-as-read')\n            .removeEventListener('click', this.handleMarkAllAsRead);\n        this.#parent\n            .querySelector('#delete')\n            .removeEventListener('click', this.handleDelete);\n        this.#parent\n            .querySelector('#mark-as-read')\n            .removeEventListener('click', this.handleMarkAsRead);\n        this.#parent\n            .querySelector('#mark-as-unread')\n            .addEventListener('click', this.handleMarkAsUnread);\n\n\n\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.removeEventListener('click', (e) => this.handleLetter(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .removeEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .removeEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .removeEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#sent-folder')\n            .removeEventListener('click', this.handleSent);\n        this.#parent.removeEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].off('logout', this.handleExitResponse)\n    }\n\n    handleExitResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/login', true));\n                break;\n            default:\n                break;\n        }\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/main/main.js?");

/***/ }),

/***/ "./public/pages/profile/profile.js":
/*!*****************************************!*\
  !*** ./public/pages/profile/profile.js ***!
  \*****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Profile)\n/* harmony export */ });\n/* harmony import */ var _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/menu/menu.js */ \"./public/components/menu/menu.js\");\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _components_birthday_select_birthday_select_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/birthday-select/birthday-select.js */ \"./public/components/birthday-select/birthday-select.js\");\n/* harmony import */ var _components_gender_select_gender_select_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/gender-select/gender-select.js */ \"./public/components/gender-select/gender-select.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n\n\n\n\n\n\n\n\n\nconst MAX_INPUT_LENGTH = 64;\n\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Profile {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['profile.hbs'];\n        const config = this.#config;\n\n        const elements = {\n            userLetter: this.#config.header.username.charAt(0),\n            firstname: this.#config.user.firstname,\n            lastname: this.#config.user.surname,\n            middlename: this.#config.user.middlename,\n            avatar: this.#config.user.avatar,\n            description: this.#config.user.description,\n            phoneNumber: this.#config.user.phonenumber,\n            header: new _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, config.header).render(),\n            menu: new _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, config.menu).render(),\n            birthday_select: new _components_birthday_select_birthday_select_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](null, config).render(),\n            gender_select: new _components_gender_select_gender_select_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](null, config).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    /**\n     * Функция авторизации\n     */\n\n    handleSaveForm = async (e) => {\n        e.preventDefault();\n\n        const firstNameInput = document.querySelector('.profile__form__first-name-input-wrapper__input');\n        const middleNameInput = document.querySelector('.profile__form__middle-name-input-wrapper__input');\n        const lastNameInput = document.querySelector('.profile__form__last-name-input-wrapper__input');\n        const birthdayDay = document.querySelector('.birthday__input__day__value-img p').textContent;\n        const birthdayMonth = document.querySelector('.birthday__input__month__value-img p').textContent;\n        const birthdayYear = document.querySelector('.birthday__input__year__value-img p').textContent;\n        const genderInput = document.querySelector('.cl-switch input')\n        const bioInput = document.querySelector('.profile__form__bio-input-wrapper__input');\n        const phoneNumberInput = document.querySelector('.profile__form__phone-input-wrapper__input');\n        const passwordInput = document.querySelector('.profile__form__password-input-wrapper__input');\n        const passwordConfirmInput = document.querySelector('.profile__form__password-confirm-input-wrapper__input');\n\n        const monthIndex = ['Январь', 'Февраль', \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"].indexOf(birthdayMonth);\n\n        const firstName = firstNameInput.value.trim();\n        const middleName = middleNameInput.value.trim();\n        const lastName = lastNameInput.value.trim();\n        const birthday = new Date(birthdayYear, monthIndex, birthdayDay, 12).toISOString();\n        const gender = genderInput.checked ? 'Female' : 'Male';\n        const bio = bioInput.value.trim();\n        let phoneNumber = phoneNumberInput.value.trim();\n        const password = passwordInput.value;\n        const passwordConfirm = passwordConfirmInput.value;\n\n        let oldError = this.#parent\n            .querySelector('#first-name-error');\n        oldError.classList.remove('show');\n        oldError = firstNameInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#middle-name-error');\n        oldError.classList.remove('show');\n        oldError = middleNameInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#last-name-error');\n        oldError.classList.remove('show');\n        oldError = lastNameInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#bio-error');\n        oldError.classList.remove('show');\n        oldError = bioInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#phone-error');\n        oldError.classList.remove('show');\n        oldError = phoneNumberInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#password-error');\n        oldError.classList.remove('show');\n        oldError = passwordInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#password-confirm-error');\n        oldError.classList.remove('show');\n        oldError = passwordConfirmInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('#save-error');\n        oldError.classList.remove('show');\n\n\n        let isValidForm = true;\n        const firstNameError = this.#parent\n            .querySelector('#first-name-error');\n        if (!firstName) {\n            firstNameError.textContent = \"Введите имя\";\n            firstNameError.classList.add('show');\n            firstNameInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (firstName.length > MAX_INPUT_LENGTH) {\n                firstNameError.textContent = \"Слишком длинное имя\";\n                firstNameError.classList.add('show');\n                firstNameInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        const middleNameError = this.#parent\n            .querySelector('#middle-name-error');\n        if (middleName.length > MAX_INPUT_LENGTH) {\n            middleNameError.textContent = \"Слишком длинное отчество\";\n            middleNameError.classList.add('show');\n            middleNameInput.classList.add('input-background-error');\n            isValidForm = false;\n        }\n\n        const lastNameError = this.#parent\n            .querySelector('#last-name-error');\n        if (!lastName) {\n            lastNameError.textContent = \"Введите фамилию\";\n            lastNameError.classList.add('show');\n            lastNameInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (lastName.length > MAX_INPUT_LENGTH) {\n                lastNameError.textContent = \"Слишком длинная фамилия\";\n                lastNameError.classList.add('show');\n                lastNameInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        const bioError = this.#parent\n            .querySelector('#bio-error');\n        if (bio.length > MAX_INPUT_LENGTH) {\n            bioError.textContent = \"Слишком много текста\";\n            bioError.classList.add('show');\n            bioInput.classList.add('input-background-error');\n            isValidForm = false;\n        }\n\n        const phoneError = this.#parent\n            .querySelector('#phone-error');\n        if (phoneNumber.length > 32) {\n            phoneError.textContent = \"Слишком длинный номер\";\n            phoneError.classList.add('show');\n            phoneNumberInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            const phoneNumberRegex = /^[0-9+\\-().\\s]+$/;\n            if (phoneNumber && !phoneNumberRegex.test(phoneNumber)) {\n                phoneError.textContent = \"Некорректный номер\";\n                phoneError.classList.add('show');\n                phoneNumberInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        const passwordError = this.#parent\n            .querySelector('#password-error');\n        if (password.length > 4 * MAX_INPUT_LENGTH) {\n            passwordError.textContent = \"Слишком длинный пароль\";\n            passwordError.classList.add('show');\n            passwordInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (password && password.length < 8) {\n                passwordError.textContent = \"Минимальная длина 8 символов\";\n                passwordError.classList.add('show');\n                passwordInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                const passwordRegex = /^[a-zA-Z0-9`~`!@#$%^&*()-=_+,.;'\\[\\]<>?:\"{}|\\\\\\/]+$/;\n                if (password && !passwordRegex.test(password)) {\n                    passwordError.textContent = \"Недопустимые символы\";\n                    passwordError.classList.add('show');\n                    passwordInput.classList.add('input-background-error');\n                    isValidForm = false;\n                }\n            }\n        }\n\n        const passwordConfirmError = this.#parent\n            .querySelector('#password-confirm-error');\n        if (passwordConfirm.length > 4 * MAX_INPUT_LENGTH) {\n            passwordConfirmError.textContent = \"Слишком длинный пароль\";\n            passwordConfirmError.classList.add('show');\n            passwordConfirmInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (password && !passwordConfirm) {\n                passwordConfirmError.textContent = 'Введите пароль ещё раз';\n                passwordConfirmError.classList.add('show');\n                passwordConfirmInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                if (password && password !== passwordConfirm) {\n                    passwordConfirmError.textContent = 'Пароли не совпадают';\n                    passwordConfirmError.classList.add('show');\n                    passwordConfirmInput.classList.add('input-background-error');\n                    isValidForm = false;\n                }\n            }\n        }\n\n        phoneNumber = phoneNumber.indexOf('+') === 0 ? '+'.concat(phoneNumber.replace(/\\D+/g, '')) : phoneNumber.replace(/\\D+/g, '');\n\n\n\n        // create JSON object with user data\n        const editedUser = {\n            firstname: firstName,\n            surname: lastName,\n            middlename: middleName,\n            gender: gender,\n            birthday: birthday,\n            phonenumber: phoneNumber,\n            description: bio,\n            id: this.#config.user.id,\n        };\n\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionUpdateUser)(editedUser))\n    };\n\n    handleCheckbox(e) {\n\n        e.preventDefault();\n        if (this.checked) {\n            document.querySelector('.gender-select_female').classList.remove('gender-select_passive');\n            document.querySelector('.gender-select_male').classList.add('gender-select_passive');\n        } else {\n            document.querySelector('.gender-select_male').classList.remove('gender-select_passive');\n            document.querySelector('.gender-select_female').classList.add('gender-select_passive');\n        }\n    }\n\n    handleDropdowns(e) {\n\n        const target = e.target;\n\n        if (document.querySelector('.birthday__input__day__value-img') === null) { return; }\n\n        const elements = {\n            day: {\n                button: document.querySelector('.birthday__input__day__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__day'),\n            },\n            month: {\n                button: document.querySelector('.birthday__input__month__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__month'),\n\n            },\n            year: {\n                button: document.querySelector('.birthday__input__year__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__year'),\n            },\n            profile: {\n                button: document.querySelector('.header__avatar'),\n                dropdown: document.querySelector('.header__dropdown'),\n            }\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show__dropdown__wrapper');\n                value.dropdown.classList.add('hide__dropdown__wrapper');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show__dropdown__wrapper')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.remove('hide__dropdown__wrapper');\n                    elements[key].dropdown.classList.add('show__dropdown__wrapper');\n                }\n            }\n        })\n\n\n        if (elements.day.dropdown.contains(target) && target.tagName === 'P') {\n            document.querySelector('.birthday__input__day__value-img p').textContent = target.textContent;\n\n        } else {\n            if (elements.month.dropdown.contains(target) && target.tagName === 'P') {\n                document.querySelector('.birthday__input__month__value-img p').textContent = target.textContent;\n\n            } else {\n                if (elements.year.dropdown.contains(target) && target.tagName === 'P') {\n                    document.querySelector('.birthday__input__year__value-img p').textContent = target.textContent;\n                }\n\n            }\n        }\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    handleExit = async (e) => {\n        e.preventDefault();\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionLogout)());\n    };\n\n    handleWriteLetter = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/write_letter', true));\n    };\n\n    handleMain = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/main', true));\n    };\n\n    handleAvatarUpload = async (e) => {\n        e.preventDefault();\n        const input = this.#parent.querySelector('.profile__form__avatar-load-wrapper__avatar-load-input');\n        const handleAvatarProcessing = async () => {\n            const file = input.files[0];\n            const reader = new FileReader();\n            reader.onload = (event) => {\n                const img1 = this.#parent.querySelector('.profile__form__avatar-load-wrapper__avatar');\n                img1.src = event.target.result;\n                const img2 = this.#parent.querySelector('.header__avatar');\n                img2.src = event.target.result;\n            };\n            reader.readAsDataURL(file);\n            input.removeEventListener('change', handleAvatarProcessing);\n            const formData = new FormData();\n            formData.append('file', this.#parent.querySelector('.profile__form__avatar-load-wrapper__avatar-load-input').files[0]);\n            _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionAvatarUpload)(formData))\n        };\n        input.addEventListener('change', handleAvatarProcessing);\n        input.click();\n\n    }\n\n    handleSent = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/sent', true));\n    };\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelector('.profile__form__save-button-wrapper__button')\n            .addEventListener('click', this.handleSaveForm);\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .addEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .addEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .addEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .addEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .addEventListener('click', this.handleSent);\n        this.#parent\n            .querySelector('.cl-switch input')\n            .addEventListener('change', this.handleCheckbox);\n        this.#parent\n            .querySelector('.profile__form__avatar-load-wrapper__avatar-set-button')\n            .addEventListener('click', this.handleAvatarUpload);\n        this.#parent.addEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].on('logout', this.handleExitResponse);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].on('updateUser', this.handleUpdateResponse);\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelector('.profile__form__save-button-wrapper__button')\n            .removeEventListener('click', this.handleSaveForm);\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .removeEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .removeEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .removeEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .removeEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .removeEventListener('click', this.handleSent);\n        this.#parent\n            .querySelector('.cl-switch input')\n            .removeEventListener('change', this.handleCheckbox);\n        this.#parent\n            .querySelector('.profile__form__avatar-load-wrapper__avatar-set-button')\n            .removeEventListener('click', this.handleAvatarUpload);\n        this.#parent.removeEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].off('logout', this.handleExitResponse);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].off('updateUser', this.handleUpdateResponse);\n    }\n\n    handleExitResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/login', true));\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleUpdateResponse = (status) => {\n        switch (status) {\n            case 200:\n                // dispathcher.do(actionRedirect('/main', true));\n                break;\n            default:\n                const error = this.#parent\n                    .querySelector('#save-error');\n                error.textContent = 'Проблемы на нашей стороне. Уже исправляем!';\n                error.classList.add('show');\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/profile/profile.js?");

/***/ }),

/***/ "./public/pages/sent/sent.js":
/*!***********************************!*\
  !*** ./public/pages/sent/sent.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sent)\n/* harmony export */ });\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/menu/menu.js */ \"./public/components/menu/menu.js\");\n/* harmony import */ var _components_list_letters_list_letters_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../components/list-letters/list-letters.js */ \"./public/components/list-letters/list-letters.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\n\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Sent {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['main.hbs'];\n        this.#config.content.sent = true;\n        const elements = {\n            header: new _components_header_header_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, this.#config.header).render(),\n            menu: new _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, this.#config.menu).render(),\n            list_letters: new _components_list_letters_list_letters_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](null, this.#config.content).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    handleDropdowns(e) {\n        const target = e.target;\n\n        const elements = {\n            profile: {\n                button: document.querySelector('.header__avatar'),\n                dropdown: document.querySelector('.header__dropdown'),\n            }\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.add('show');\n                }\n            }\n        })\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    /**\n     * Функция выхода из ящика\n     */\n    handleExit = async (e) => {\n        e.preventDefault();\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionLogout)());\n    };\n\n    handleProfile = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/profile', true));\n    };\n\n    handleWriteLetter = (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/write_letter', true));\n    };\n\n    handleLetter = (e, id) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirectToLetter)(id, true));\n    };\n\n    handleMain = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/main', true));\n    };\n\n    handleSent = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/sent', true));\n    };\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.addEventListener('click', (e) => this.handleLetter(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .addEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .addEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .addEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .addEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .addEventListener('click', this.handleSent);\n        this.#parent.\n            querySelector('.header__logo')\n            .addEventListener('click', this.handleMain);\n        this.#parent.addEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].on('logout', this.handleExitResponse)\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelectorAll('.list-letter').forEach((letter) => {\n                letter.removeEventListener('click', (e) => this.handleLetter(e, letter.dataset.id));\n            });\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .removeEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .removeEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('.menu__write-letter-button')\n            .removeEventListener('click', this.handleWriteLetter);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .removeEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .removeEventListener('click', this.handleSent);\n        this.#parent.\n            querySelector('.header__logo')\n            .removeEventListener('click', this.handleMain);\n        this.#parent.removeEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].off('logout', this.handleExitResponse)\n    }\n\n    handleExitResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_5__.actionRedirect)('/login', true));\n                break;\n            default:\n                break;\n        }\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/sent/sent.js?");

/***/ }),

/***/ "./public/pages/signup/signup.js":
/*!***************************************!*\
  !*** ./public/pages/signup/signup.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Signup)\n/* harmony export */ });\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _components_signup_box_signup_box_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/signup-box/signup-box.js */ \"./public/components/signup-box/signup-box.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n\n\n\n\n\nconst MAX_INPUT_LENGTH = 64;\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Signup {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['signup.hbs'];\n        const elements = {\n            signup_box: new _components_signup_box_signup_box_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, this.#config).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    /**\n     * Функция регистрации\n     */\n    handleSignup = async (e) => {\n        e.preventDefault();\n\n        const firstNameInput = document.querySelector('.signup-box__first-name-input-wrapper__input');\n        const lastNameInput = document.querySelector('.signup-box__last-name-input-wrapper__input');\n        const birthdayDay = document.querySelector('.birthday__input__day__value-img p').textContent;\n        const birthdayMonth = document.querySelector('.birthday__input__month__value-img p').textContent;\n        const birthdayYear = document.querySelector('.birthday__input__year__value-img p').textContent;\n        const genderInput = document.querySelector('.cl-switch input')\n        const emailInput = document.querySelector('.signup-box__email-input-wrapper__email-input');\n        const passwordInput = document.querySelector('.signup-box__password-input-wrapper__input');\n        const passwordConfirmInput = document.querySelector('.signup-box__password-confirm-input-wrapper__input');\n\n        const monthIndex = ['Январь', 'Февраль', \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"].indexOf(birthdayMonth);\n\n        const firstName = firstNameInput.value.trim();\n        const lastName = lastNameInput.value.trim();\n        const birthday = new Date(birthdayYear, monthIndex, birthdayDay).toISOString();\n\n        const gender = genderInput.checked ? 'Female' : 'Male';\n        const email = emailInput.value.trim();\n        const password = passwordInput.value;\n        const passwordConfirm = passwordConfirmInput.value;\n\n        const emailDomainInput = this.#parent\n            .querySelector('.signup-box__email-input-wrapper__email-domain-input');\n        let oldError = this.#parent\n            .querySelector('#first-name-error');\n        oldError.classList.remove('show');\n        oldError = firstNameInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#last-name-error');\n        oldError.classList.remove('show');\n        oldError = lastNameInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#email-error');\n        oldError.classList.remove('show');\n        oldError = emailInput;\n        oldError.classList.remove('input-background-error');\n        oldError = emailDomainInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#password-error');\n        oldError.classList.remove('show');\n        oldError = passwordInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#password-confirm-error');\n        oldError.classList.remove('show');\n        oldError = passwordConfirmInput;\n        oldError.classList.remove('input-background-error');\n        oldError = this.#parent\n            .querySelector('#signup-error');\n        oldError.classList.remove('show');\n\n\n        let isValidForm = true;\n        const firstNameError = this.#parent\n            .querySelector('#first-name-error');\n        if (!firstName) {\n            firstNameError.textContent = \"Введите имя\";\n            firstNameError.classList.add('show');\n            firstNameInput.classList.add('input-background-error');\n            isValidForm = false;\n\n        } else {\n            if (firstName.length > MAX_INPUT_LENGTH) {\n                firstNameError.textContent = \"Слишком длинное имя\";\n                firstNameError.classList.add('show');\n                firstNameInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        const lastNameError = this.#parent\n            .querySelector('#last-name-error');\n        if (!lastName) {\n            lastNameError.textContent = \"Введите фамилию\";\n            lastNameError.classList.add('show');\n            lastNameInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (lastName.length > MAX_INPUT_LENGTH) {\n                lastNameError.textContent = \"Слишком длинная фамилия\";\n                lastNameError.classList.add('show');\n                lastNameInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n\n        const emailError = this.#parent\n            .querySelector('#email-error');\n        if (!email) {\n            emailError.textContent = 'Введите имя ящика';\n            emailError.classList.add('show');\n            emailInput.classList.add('input-background-error');\n            emailDomainInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (email.length > MAX_INPUT_LENGTH) {\n                emailError.textContent = 'Слишком длинное имя ящика';\n                emailError.classList.add('show');\n                emailInput.classList.add('input-background-error');\n                emailDomainInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                const emailLoginRegex = /^[a-zA-Z0-9._%+-]+$/;\n                if (!emailLoginRegex.test(email)) {\n                    emailError.textContent = 'Некорректное имя ящика';\n                    emailError.classList.add('show');\n                    emailInput.classList.add('input-background-error');\n                    emailDomainInput.classList.add('input-background-error');\n                    isValidForm = false;\n                }\n            }\n        }\n\n        const passwordError = this.#parent\n            .querySelector('#password-error');\n        if (!password) {\n            passwordError.textContent = 'Введите пароль';\n            passwordError.classList.add('show');\n            passwordInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (password.length > 4 * MAX_INPUT_LENGTH) {\n                passwordError.textContent = 'Слишком длинный пароль';\n                passwordError.classList.add('show');\n                passwordInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                if (password.length < 8) {\n                    passwordError.textContent = 'Минимальная длина 8 символов';\n                    passwordError.classList.add('show');\n                    passwordInput.classList.add('input-background-error');\n                    isValidForm = false;\n                } else {\n                    const passwordRegex = /^[a-zA-Z0-9`~`!@#$%^&*()-=_+,.;'\\[\\]<>?:\"{}|\\\\\\/]+$/;\n                    if (!passwordRegex.test(password)) {\n                        passwordError.textContent = 'Недопустимые символы';\n                        passwordError.classList.add('show');\n                        passwordInput.classList.add('input-background-error');\n                        isValidForm = false;\n                    }\n                }\n            }\n        }\n\n        const passwordConfirmError = this.#parent\n            .querySelector('#password-confirm-error');\n        if (!passwordConfirm) {\n            passwordConfirmError.textContent = 'Введите пароль';\n            passwordConfirmError.classList.add('show');\n            passwordConfirmInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (password !== passwordConfirm) {\n                passwordConfirmError.textContent = 'Пароли не совпадают';\n                passwordConfirmError.classList.add('show');\n                passwordConfirmInput.classList.add('input-background-error');\n                isValidForm = false;\n            }\n        }\n        \n        if (!isValidForm) {\n            return;\n        }\n\n        // create JSON object with user data\n        const newUser = {\n            login: email + \"@mailhub.su\",\n            firstname: firstName,\n            password: password,\n            surname: lastName,\n            gender: gender,\n            birthday: birthday\n        };\n\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_0__.actionSignup)(newUser));\n    };\n\n    /**\n     * Функция рендера страницы авторизации\n     */\n    renderLogin = async (e) => {\n\n        e.preventDefault();\n\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_0__.actionRedirect)('/login', true));\n    };\n\n    handleCheckbox(e) {\n        console.log(this);\n\n        e.preventDefault();\n        if (this.checked) {\n            document.querySelector('.gender-select_female').classList.remove('gender-select_passive');\n            document.querySelector('.gender-select_male').classList.add('gender-select_passive');\n        } else {\n            document.querySelector('.gender-select_male').classList.remove('gender-select_passive');\n            document.querySelector('.gender-select_female').classList.add('gender-select_passive');\n        }\n    }\n\n    handleDropdowns(e) {\n        const target = event.target;\n\n        if (document.querySelector('.birthday__input__day__value-img') === null) { return; }\n\n        const elements = {\n            day: {\n                button: document.querySelector('.birthday__input__day__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__day'),\n            },\n            month: {\n                button: document.querySelector('.birthday__input__month__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__month'),\n\n            },\n            year: {\n                button: document.querySelector('.birthday__input__year__value-img'),\n                dropdown: document.querySelector('.dropdown__wrapper__year'),\n            },\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show__dropdown__wrapper');\n                value.dropdown.classList.add('hide__dropdown__wrapper');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show__dropdown__wrapper')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.remove('hide__dropdown__wrapper');\n                    elements[key].dropdown.classList.add('show__dropdown__wrapper');\n                }\n            }\n        })\n\n        if (elements.day.dropdown.contains(target) && target.tagName === 'P') {\n            document.querySelector('.birthday__input__day__value-img p').textContent = target.textContent;\n\n        } else {\n            if (elements.month.dropdown.contains(target) && target.tagName === 'P') {\n                document.querySelector('.birthday__input__month__value-img p').textContent = target.textContent;\n\n            } else {\n                if (elements.year.dropdown.contains(target) && target.tagName === 'P') {\n                    document.querySelector('.birthday__input__year__value-img p').textContent = target.textContent;\n                }\n            }\n\n        }\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    handleEnterKey = async (e) => {\n        if (e.key === \"Enter\") {\n            e.preventDefault();\n            this.handleSignup(e);\n        }\n    }\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelector('.signup-box__signup-button-wrapper__button')\n            .addEventListener('click', this.handleSignup);\n\n        this.#parent\n            .querySelector('.signup-box__authorization-method-switch__method_passive')\n            .addEventListener('click', this.renderLogin);\n        this.#parent\n            .querySelector('.cl-switch input')\n            .addEventListener('change', this.handleCheckbox);\n\n        this.#parent\n        document.addEventListener('click', this.handleDropdowns);\n        document\n            .addEventListener('keydown', this.handleEnterKey);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].on('signup', this.handleSignupResponse);\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelector('.signup-box__signup-button-wrapper__button')\n            .removeEventListener('click', this.handleSignup);\n\n        this.#parent\n            .querySelector('.signup-box__authorization-method-switch__method_passive')\n            .removeEventListener('click', this.renderLogin);\n        this.#parent\n            .querySelector('.cl-switch input')\n            .removeEventListener('change', this.handleCheckbox);\n\n        this.#parent\n        document.removeEventListener('click', this.handleDropdowns);\n        document\n            .removeEventListener('keydown', this.handleEnterKey);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].off('signup', this.handleSignupResponse);\n    }\n\n    handleSignupResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_0__.actionRedirect)('/login', true));\n                break;\n            default:\n                const error = this.#parent\n                    .querySelector('#signup-error');\n                error.textContent = 'Проблемы на нашей стороне. Уже исправляем!';\n                error.classList.add('show');\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/signup/signup.js?");

/***/ }),

/***/ "./public/pages/write-letter/write-letter.js":
/*!***************************************************!*\
  !*** ./public/pages/write-letter/write-letter.js ***!
  \***************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Write__Letter)\n/* harmony export */ });\n/* harmony import */ var _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/menu/menu.js */ \"./public/components/menu/menu.js\");\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../modules/mediator.js */ \"./public/modules/mediator.js\");\n\n\n\n\n\n\n\nconst MAX_INPUT_LENGTH = 64;\n\n\n/**\n * Класс обертки страницы\n * @class\n */\nclass Write__Letter {\n    #parent;\n    #config;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     * @param {Element} parent\n     * @param {object} config\n     */\n    constructor(parent, config) {\n        this.#config = config;\n        this.#parent = parent;\n    }\n    \n\n    /**\n     * Рендер компонента в DOM\n     */\n    render() {\n        const template = Handlebars.templates['write-letter.hbs'];\n        const config = this.#config;\n\n        const elements = {\n            sender: this.#config.values?.sender,\n            date: this.#config.values?.date,\n            topic: this.#config.values?.topic,\n            text: this.#config.values?.text,\n            replyId: this.#config.values?.replyId,\n            replySender: this.#config.values?.replySender,\n            header: new _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, config.header).render(),\n            menu: new _components_menu_menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](null, config.menu).render(),\n        };\n        this.#parent.insertAdjacentHTML('beforeend', template(elements));\n    }\n\n    /**\n     * Функция авторизации\n     */\n\n    handleSaveForm = async (e) => {\n        e.preventDefault();\n\n    };\n\n    /**\n     * Функция вызова logout действия\n     */\n    handleExit = async (e) => {\n        e.preventDefault();\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionLogout)());\n    };\n\n    handleProfile = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/profile', true));\n    };\n\n    handleMain = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/main', true));\n    };\n\n    handleSend = async (e) => {\n        e.preventDefault();\n        const toInput = document.querySelector('.write-letter__to__input');\n        const topicInput = document.querySelector('.write-letter__subject__input');\n        const textInput = document.querySelector('.write-letter__text');\n\n        const to = toInput.value.trim();\n        let topic = topicInput.value.trim();\n        let text = textInput.value.trim();\n\n        let oldError = this.#parent\n            .querySelector('.write-letter__to__error');\n        oldError.classList.remove('appear');\n        oldError = toInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('.write-letter__subject__error');\n        oldError.classList.remove('appear');\n        oldError = topicInput;\n        oldError.classList.remove('input-background-error');\n\n        oldError = this.#parent\n            .querySelector('.write-letter__attachments__error');\n        oldError.classList.remove('show');\n\n        let isValidForm = true;\n        const toError = this.#parent.querySelector('.write-letter__to__error');\n        if (!to) {\n            toError.textContent = \"Введите получателя\";\n            toError.classList.add('appear');\n            toInput.classList.add('input-background-error');\n            isValidForm = false;\n        } else {\n            if (to.length > MAX_INPUT_LENGTH) {\n                toError.textContent = \"Слишком длинное имя ящика получателя\";\n                toError.classList.add('appear');\n                toInput.classList.add('input-background-error');\n                isValidForm = false;\n            } else {\n                if (to.indexOf('@') === -1) {\n                    toError.textContent = \"Забыли \\\"@\\\"\";\n                    toError.classList.add('appear');\n                    toInput.classList.add('input-background-error');\n                    isValidForm = false;\n                } else {\n                    if (to.indexOf('.') === -1) {\n                        toError.textContent = \"Забыли \\\".\\\"\";\n                        toError.classList.add('appear');\n                        toInput.classList.add('input-background-error');\n                        isValidForm = false;\n                    } else {\n                        const toRegex = /^[a-zA-Z0-9._%+-]+@mailhub.su$/;\n                        if (!toRegex.test(to)) {\n                            toError.textContent = \"Некорректное имя ящика получателя\";\n                            toError.classList.add('appear');\n                            toInput.classList.add('input-background-error');\n                            isValidForm = false;\n                        }\n                    }\n                }\n            }\n        }\n\n        const topicError = this.#parent.querySelector('.write-letter__subject__error');\n        if (topic.length > MAX_INPUT_LENGTH) {\n            topicError.textContent = \"Слишком длинная тема\";\n            topicError.classList.add('appear');\n            topicInput.classList.add('input-background-error');\n            isValidForm = false;\n        }\n\n        if (!isValidForm) {\n            return;\n        }\n\n        if (!topic) {\n            topic = \"Без темы\";\n        }\n\n        if (!text) {\n            text = \"Пустое письмо\";\n        }\n\n\n        // create JSON object with user data\n        const newLetter = {\n            readStatus: false,\n            topic: topic,\n            text: text,\n            recipientEmail: to,\n            senderEmail: this.#config.user.login,\n        };\n        if (this.#config.values?.replyId) {\n            console.log(this.#config.values.replyId);\n            newLetter.replyToEmailId = this.#config.values.replyId;\n        }\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionSend)(newLetter));\n    };\n\n    handleDropdowns(e) {\n        const target = e.target;\n\n        const elements = {\n            profile: {\n                button: document.querySelector('.header__avatar'),\n                dropdown: document.querySelector('.header__dropdown'),\n            }\n        }\n\n        const hideAllDropdowns = () => {\n            Object.values(elements).forEach(value => {\n                value.dropdown.classList.remove('show');\n            });\n        }\n\n        let hasTarget = false;\n        Object.keys(elements).forEach(key => {\n            if (elements[key].button.contains(target)) {\n                hasTarget = true;\n                let showDropdown = true;\n                if (elements[key].dropdown.classList.contains('show')) {\n                    showDropdown = false;\n                }\n                hideAllDropdowns();\n                if (showDropdown) {\n                    elements[key].dropdown.classList.add('show');\n                }\n            }\n        })\n        if (!hasTarget) {\n            hideAllDropdowns();\n        }\n    };\n\n    handleSent = async (e) => {\n        e.preventDefault();\n        _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/sent', true));\n    };\n\n    /**\n     * Добавляет листенеры на компоненты\n     */\n    addListeners() {\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .addEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .addEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .addEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .addEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .addEventListener('click', this.handleSent);\n        this.#parent\n            .querySelector('.write-letter__buttons__send-button')\n            .addEventListener('click', this.handleSend);\n        this.#parent.addEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('logout', this.handleExitResponse)\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].on('send', this.handleSendResponse)\n    }\n\n    /**\n     * Удаляет листенеры\n     */\n    removeListeners() {\n        this.#parent\n            .querySelector('.header__dropdown__logout-button')\n            .removeEventListener('click', this.handleExit);\n        this.#parent\n            .querySelector('.header__dropdown__profile-button')\n            .removeEventListener('click', this.handleProfile);\n        this.#parent\n            .querySelector('#incoming-folder')\n            .removeEventListener('click', this.handleMain);\n        this.#parent.\n            querySelector('.header__logo')\n            .removeEventListener('click', this.handleMain);\n        this.#parent\n            .querySelector('#sent-folder')\n            .removeEventListener('click', this.handleSent);\n        this.#parent\n            .querySelector('.write-letter__buttons__send-button')\n            .removeEventListener('click', this.handleSend);\n        this.#parent.removeEventListener('click', this.handleDropdowns);\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('logout', this.handleExitResponse)\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].off('send', this.handleSendResponse)\n    }\n\n    handleExitResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/login', true));\n                break;\n            default:\n                break;\n        }\n    }\n\n    handleSendResponse = (status) => {\n        switch (status) {\n            case 200:\n                _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionRedirect)('/main', true));\n                break;\n            default:\n                const error = this.#parent\n                    .querySelector('.write-letter__buttons__error');\n                error.textContent = 'Проблемы на нашей стороне. Уже исправляем!';\n                error.classList.add('show');\n                break;\n        }\n    }\n}\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/pages/write-letter/write-letter.js?");

/***/ }),

/***/ "./public/stores/emailStore.js":
/*!*************************************!*\
  !*** ./public/stores/emailStore.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _userStore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/mediator.js */ \"./public/modules/mediator.js\");\n\n\n\n\nclass emaillStore {\n    incoming\n    sent\n\n    constructor() {\n        this.incoming = undefined\n    }\n\n    clean() {\n        this.incoming = undefined\n    }\n\n    async getIncoming() {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'GET', 'http://mailhub.su:8080/api/v1/emails/incoming', null, 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const data = await response.json();\n        this.incoming = data.body.emails;\n    }\n\n    async getSent() {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'GET', 'http://mailhub.su:8080/api/v1/emails/sent', null, 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const data = await response.json();\n        this.sent = data.body.emails;\n    }\n\n\n    async getEmail(id) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'GET', `http://mailhub.su:8080/api/v1/email/${id}`, null, 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const data = await response.json();\n        this.email = data.body.email;\n    }\n\n    async send(newEmail) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'POST', 'http://mailhub.su:8080/api/v1/email/send', JSON.stringify(newEmail), 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const status = await response.status;\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].emit('send', status);\n    }\n\n    async updateEmail({id, value}) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'PUT', `http://mailhub.su:8080/api/v1/email/update/${id}`, JSON.stringify(value), 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const status = await response.status;\n    }\n\n    async deleteEmail({id}) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(\n            'DELETE', `http://mailhub.su:8080/api/v1/email/delete/${id}`,null, 'application/json', _userStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getCsrf()\n        );\n        const status = await response.status;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new emaillStore());\n\n//# sourceURL=webpack://2024_1_refugio/./public/stores/emailStore.js?");

/***/ }),

/***/ "./public/stores/userStore.js":
/*!************************************!*\
  !*** ./public/stores/userStore.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/mediator.js */ \"./public/modules/mediator.js\");\n/* harmony import */ var _emailStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./emailStore.js */ \"./public/stores/emailStore.js\");\n\n\n\n\nclass UserStore {\n    body\n    isAuth\n    #csrf\n\n    constructor() {\n        this.body = undefined;\n        this.isAuth = false;\n        this.#csrf = undefined;\n    }\n\n    async verifyAuth() {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'GET', 'http://mailhub.su:8080/api/v1/verify-auth', null, 'application/json', this.#csrf\n        );\n        this.isAuth = await response.status < 300;\n        this.#csrf = response.headers.get('X-Csrf-Token');\n        return this.isAuth;\n    }\n\n    async logout() {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'POST', 'http://mailhub.su:8080/api/v1/auth/logout', null, 'application/json', this.#csrf\n        );\n        const status = await response.status;\n        if (status < 300) {\n            this.isAuth = false;\n            this.body = undefined;\n        }\n        _emailStore_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].clean();\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emit('logout', status);\n    }\n\n    async login(newUser) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'POST', 'http://mailhub.su:8080/api/v1/auth/login', JSON.stringify(newUser), 'application/json', this.#csrf\n        );\n\n        const status = await response.status;\n        if (status < 300) {\n            this.isAuth = true;\n        }\n        this.#csrf = response.headers.get('X-Csrf-Token');\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emit('login', status);\n    }\n\n    async signup(newUser) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'POST', 'http://mailhub.su:8080/api/v1/auth/signup', JSON.stringify(newUser), 'application/json', this.#csrf\n        );\n        const status = await response.status;\n        if (status < 300) {\n            this.isAuth = true;\n        }\n        this.#csrf = await response.headers.get('X-Csrf-Token');\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emit('signup', status);\n    }\n\n    getCsrf() {\n        return this.#csrf\n    }\n\n    async getUser() {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'GET', 'http://mailhub.su:8080/api/v1/user/get', null, 'application/json', this.#csrf\n        );\n        const status = await response.status;\n        if (status < 300) {\n            let data = await response.json();\n            this.body = data.body.user;\n        }\n    }\n\n    async updateUser(newUser) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'PUT', 'http://mailhub.su:8080/api/v1/user/update', JSON.stringify(newUser), 'application/json', this.#csrf\n        );\n        const status = await response.status;\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emit('updateUser', status);\n    }\n\n    async avatarUpload(file) {\n        const response = await (0,_modules_ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\n            'POST', 'http://mailhub.su:8080/api/v1/user/avatar/upload', file.file, undefined, this.#csrf\n        );\n        const status = await response.status;\n        _modules_mediator_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].emit('updateUser', status);\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new UserStore());\n\n//# sourceURL=webpack://2024_1_refugio/./public/stores/userStore.js?");

/***/ }),

/***/ "./public/views/base.js":
/*!******************************!*\
  !*** ./public/views/base.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseView)\n/* harmony export */ });\n/**\n * Класс для рендера абстрактной страницы\n * @class\n */\nclass BaseView {\n    components = [];\n    root;\n\n    /**\n     * Конструктор класса\n     * @constructor\n     */\n    constructor() {\n        this.root = document.querySelector('#root');\n    }\n\n    /**\n     * Функция рендера каждого элемента страницы\n     */\n    render() {\n        this.components.forEach((component) => component.render());\n    }\n\n    /**\n     * Функция добавления необходимых листенеров всем элементам страницы\n     */\n    addListeners() {\n        this.components.forEach((component) => component.addListeners());\n    }\n\n    /**\n     * Функция удаления листенеров\n     */\n    removeListeners() {\n        this.components.forEach((component) => component.removeListeners());\n    }\n\n    /**\n     * Функция очищения страницы\n     */\n    clear() {\n        this.removeListeners();\n        this.root.innerHTML = '';\n        this.components = [];\n    }\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/base.js?");

/***/ }),

/***/ "./public/views/letter.js":
/*!********************************!*\
  !*** ./public/views/letter.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LetterView)\n/* harmony export */ });\n/* harmony import */ var _pages_letter_letter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/letter/letter.js */ \"./public/pages/letter/letter.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../stores/emailStore.js */ \"./public/stores/emailStore.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n\n\n\n\n\n\n\n/**\n * Класс для рендера страницы логина\n * @class\n */\nclass LetterView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    #config = {\n        menu: {},\n        header: {\n            avatar: '',\n        },\n        letterNumber: undefined,\n    }\n\n    /**\n         * Конструктор класса\n         * @constructor\n         */\n    constructor(letterNumber) {\n        super();\n        this.#config.letterNumber = letterNumber;\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    async renderPage() {\n        this.#config.email = await this.#getEmailInfo(this.#config.letterNumber);\n        if (this.#config.email.replyToEmailId) {\n            this.#config.replyEmail = await this.#getEmailInfo(this.#config.email.replyToEmailId);\n        }\n        document.title = this.#config.email.topic;\n        this.#config.user = await this.#getUserInfo();\n        this.#config.header.username = this.#config.user.firstname;\n        this.#config.header.avatar = this.#config.user.avatar;\n        const page = new _pages_letter_letter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.root, this.#config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n    /**\n     * Запрашивает у сервера имя пользователя\n     * @returns {string} имя пользователя\n     */\n    async #getUserInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetUser)());\n        return _stores_userStore_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].body;\n    }\n\n    async #getEmailInfo(id) {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetEmail)(id));\n        return _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].email;\n    }\n\n}\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/letter.js?");

/***/ }),

/***/ "./public/views/login.js":
/*!*******************************!*\
  !*** ./public/views/login.js ***!
  \*******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pages_login_login_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/login/login.js */ \"./public/pages/login/login.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n\n\n\n\nconst config = {\n};\n\n/**\n * Класс для рендера страницы логина\n * @class\n */\nclass LoginView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    /**\n         * Конструктор класса\n         * @constructor\n         */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    renderPage() {\n        document.title = 'Вход';\n        const page = new _pages_login_login_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.root, config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new LoginView());\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/login.js?");

/***/ }),

/***/ "./public/views/main.js":
/*!******************************!*\
  !*** ./public/views/main.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pages_main_main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/main/main.js */ \"./public/pages/main/main.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../stores/emailStore.js */ \"./public/stores/emailStore.js\");\n\n\n\n\n\n\n\n/**\n * Класс для рендера страницы списка писем\n * @class\n */\nclass MainView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    #config = {\n        header: {\n            logo: 'MailHub',\n            search: 'Поиск',\n            username: 'Профиль',\n            avatar: '',\n        },\n        menu: {},\n        content: {\n            list_letters: [\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                }, {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n\n            ],\n        },\n    };\n\n    /**\n     * Конструктор класса\n     * @constructor\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    async renderPage() {\n        document.title = 'Входящие';\n        this.#config.user = await this.#getUserInfo();\n        this.#config.header.username = this.#config.user.firstname;\n        this.#config.header.avatar = this.#config.user.avatar;\n        this.#config.content.list_letters = await this.#getEmailsInfo();\n        const page = new _pages_main_main_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.root, this.#config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n    /**\n     * Запрашивает у сервера имя пользователя\n     * @returns {string} имя пользователя\n     */\n    async #getUserInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetUser)());\n        return _stores_userStore_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].body;\n    }\n\n    /**\n     * Запрашивает у сервера список писем пользователся\n     * @returns {Array<object>} список писем\n     */\n    async #getEmailsInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetIncoming)());\n        return _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].incoming;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new MainView());\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/main.js?");

/***/ }),

/***/ "./public/views/profile.js":
/*!*********************************!*\
  !*** ./public/views/profile.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pages_profile_profile_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/profile/profile.js */ \"./public/pages/profile/profile.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\n\n/**\n * Класс для рендера страницы логина\n * @class\n */\nclass ProfileView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    #config = {\n        menu: {},\n        header: {\n            avatar: '',\n        },\n    }\n\n    /**\n         * Конструктор класса\n         * @constructor\n         */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    async renderPage() {\n        document.title = 'Профиль';\n        this.#config.user = await this.#getUserInfo();\n        this.#config.header.username = this.#config.user.firstname;\n        this.#config.header.avatar = this.#config.user.avatar;\n        const page = new _pages_profile_profile_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.root, this.#config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n    /**\n     * Запрашивает у сервера имя пользователя\n     * @returns {string} имя пользователя\n     */\n    async #getUserInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionGetUser)());\n        return _stores_userStore_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].body;\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new ProfileView());\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/profile.js?");

/***/ }),

/***/ "./public/views/sent.js":
/*!******************************!*\
  !*** ./public/views/sent.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pages_main_main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/main/main.js */ \"./public/pages/main/main.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../actions/userActions.js */ \"./public/actions/userActions.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../stores/emailStore.js */ \"./public/stores/emailStore.js\");\n/* harmony import */ var _pages_sent_sent_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../pages/sent/sent.js */ \"./public/pages/sent/sent.js\");\n\n\n\n\n\n\n\n\n/**\n * Класс для рендера страницы списка писем\n * @class\n */\nclass SentView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n    #config = {\n        header: {\n            logo: 'MailHub',\n            search: 'Поиск',\n            username: 'Профиль',\n            avatar: '',\n        },\n        menu: {},\n        content: {\n            list_letters: [\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                }, {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                }, {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: undefined,\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                }, \n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                }, \n                {\n                    status: 'read',\n                    photoId: '/static/img/avatar_32_32.svg',\n                    from: 'ivanovii@mail.ru',\n                    subject: 'Subject',\n                    text: 'Some text about fish',\n                    date: '12/12/2012'\n                },\n            ],\n        },\n    };\n\n    /**\n     * Конструктор класса\n     * @constructor\n     */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    async renderPage() {\n        document.title = 'Отправленные';\n        this.#config.user = await this.#getUserInfo();\n        this.#config.header.username = this.#config.user.firstname;\n        this.#config.header.avatar = this.#config.user.avatar;\n        this.#config.content.list_letters = await this.#getEmailsInfo();\n        const page = new _pages_sent_sent_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"](this.root, this.#config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n    /**\n     * Запрашивает у сервера имя пользователя\n     * @returns {string} имя пользователя\n     */\n    async #getUserInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetUser)());\n        return _stores_userStore_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].body;\n    }\n\n    /**\n     * Запрашивает у сервера список писем пользователся\n     * @returns {Array<object>} список писем\n     */\n    async #getEmailsInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_3__.actionGetSent)());\n        return _stores_emailStore_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].sent;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new SentView());\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/sent.js?");

/***/ }),

/***/ "./public/views/signup.js":
/*!********************************!*\
  !*** ./public/views/signup.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pages_signup_signup_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pages/signup/signup.js */ \"./public/pages/signup/signup.js\");\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n\n\n\nconst config = {\n};\n/**\n * Класс для рендера страницы списка писем\n * @class\n */\nclass SignupView extends _base_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"] {\n\n    /**\n         * Конструктор класса\n         * @constructor\n         */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    renderPage() {\n        document.title = 'Создание ящика';\n        const page = new _pages_signup_signup_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.root, config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new SignupView());\n\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/signup.js?");

/***/ }),

/***/ "./public/views/write-letter.js":
/*!**************************************!*\
  !*** ./public/views/write-letter.js ***!
  \**************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _base_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./base.js */ \"./public/views/base.js\");\n/* harmony import */ var _pages_write_letter_write_letter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../pages/write-letter/write-letter.js */ \"./public/pages/write-letter/write-letter.js\");\n/* harmony import */ var _stores_userStore_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../stores/userStore.js */ \"./public/stores/userStore.js\");\n/* harmony import */ var _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modules/dispathcher.js */ \"./public/modules/dispathcher.js\");\n/* harmony import */ var _actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../actions/userActions.js */ \"./public/actions/userActions.js\");\n\n\n\n\n\n\n/**\n * Класс для рендера страницы логина\n * @class\n */\nclass WriteLetterView extends _base_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    #config = {\n        menu: {},\n        header: {\n            avatar: '',\n        },\n    }\n\n    /**\n         * Конструктор класса\n         * @constructor\n         */\n    constructor() {\n        super();\n    }\n\n    /**\n     * Функция рендера страницы\n     */\n    async renderPage(data = undefined) {\n        if (data) {\n            this.#config.values = data;\n        } else {\n            this.#config.values = undefined;\n        }\n        document.title = 'Новое письмо';\n        this.#config.user = await this.#getUserInfo();\n        this.#config.header.username = this.#config.user.firstname;\n        this.#config.header.avatar = this.#config.user.avatar;\n        const page = new _pages_write_letter_write_letter_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.root, this.#config);\n        this.components.push(page);\n        this.render();\n        this.addListeners();\n    }\n\n    /**\n     * Запрашивает у сервера имя пользователя\n     * @returns {string} имя пользователя\n     */\n    async #getUserInfo() {\n        await _modules_dispathcher_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].do((0,_actions_userActions_js__WEBPACK_IMPORTED_MODULE_4__.actionGetUser)());\n        return _stores_userStore_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].body;\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (new WriteLetterView());\n\n//# sourceURL=webpack://2024_1_refugio/./public/views/write-letter.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./public/index.js");
/******/ 	
/******/ })()
;